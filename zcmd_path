#include "main.h"

/**
 * cmd_check - function to search for directory where the main
 * command is defined i.e. args[0].
 * @args: pointer to arguments.
 *
 * sprintf - function used for catenation of pointer and arrays;
 * Return: excutable path of function or just args[0]
 */
char *cmd_check(char **args)
{
	int path_count, i = 0;
	char *path = getenv("PATH"), *path_dir;
	char **temp_dir, f_slash[2] = "/";
	char *result = NULL;

	temp_dir = malloc(300 * sizeof(char *));
	if (temp_dir == NULL)
	{
		perror("malloc:");
		exit(1);
	}
	if (args[0][0] != '/')
	{
		path_dir = strtok(path, ":");
		while (path_dir  != NULL)
		{
			temp_dir[i] = malloc(sizeof(char) * 100);
			if ((temp_dir[i]) == NULL)
			{
				perror("malloc:");
				exit(1);
			}
			sprintf(temp_dir[i], "%s%s%s", path_dir, f_slash, args[0]);
			if (access(temp_dir[i], F_OK) == 0)
			{
				result = temp_dir[i];
				break;
			}
			i++;
			path_dir = strtok(NULL, ":");
		}
		path_count = 1;
	}
	else
		result = args[0];
	/*for (int j = 0; j < path_count; j++)*/
	/*	free(temp_dir[j]);*/
	/*free(temp_dir);*/
	return (result);
}
